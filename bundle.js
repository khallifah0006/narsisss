/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var n={56:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},72:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var a={},i=[],c=0;c<n.length;c++){var s=n[c],l=r.base?s[0]+r.base:s[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=e(u),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var f=o(m,r);r.byIndex=c,t.splice(c,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var c=e(a[i]);t[c].references--}for(var s=r(n,o),l=0;l<a.length;l++){var d=e(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=s}}},113:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",r=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),r&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),r&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},365:(n,t,e)=>{e.d(t,{A:()=>c});var r=e(601),o=e.n(r),a=e(314),i=e.n(a)()(o());i.push([n.id,"/* Base Styles */\n:root {\n    --primary-color: #5D8BF4;\n    --secondary-color: #9BABF7;\n    --accent-color: #DFF6FF;\n    --dark-color: #051367;\n    --light-color: #F9F9F9;\n    --text-color: #333;\n    --error-color: #FF5252;\n    --success-color: #4CAF50;\n    --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n    --transition: all 0.3s ease;\n  }\n  \n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  }\n  \n  body {\n    background-color: var(--light-color);\n    color: var(--text-color);\n    line-height: 1.6;\n  }\n  \n  \n  .skip-link {\n    position: absolute;\n    top: -50px;\n    left: 0;\n    background: var(--primary-color);\n    color: white;\n    padding: 10px;\n    z-index: 100;\n    transition: top 0.3s;\n  }\n  \n  .skip-link:focus {\n    top: 0;\n  }\n  \n  \n  header {\n    background-color: white;\n    box-shadow: var(--shadow);\n    position: sticky;\n    top: 0;\n    z-index: 10;\n  }\n  \n  nav {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1rem 2rem;\n    max-width: 1200px;\n    margin: 0 auto;\n  }\n  \n  .logo h1 {\n    color: var(--primary-color);\n    font-size: 1.5rem;\n  }\n  \n  .nav-links {\n    display: flex;\n    gap: 1.5rem;\n    align-items: center;\n  }\n  \n  .nav-item {\n    text-decoration: none;\n    color: var(--text-color);\n    font-weight: 500;\n    transition: var(--transition);\n  }\n  \n  .nav-item:hover, .nav-item.active {\n    color: var(--primary-color);\n  }\n  \n  .auth-button {\n    background-color: var(--primary-color);\n    color: white;\n    border: none;\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: var(--transition);\n  }\n  \n  .auth-button:hover {\n    background-color: var(--dark-color);\n  }\n  \n\n  main {\n    min-height: calc(100vh - 140px);\n    max-width: 1200px;\n    margin: 2rem auto;\n    padding: 0 1rem;\n    view-transition-name: main-content;\n  }\n  \n  \n  .stories-container {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 2rem;\n    margin-top: 2rem;\n  }\n  \n  .story-card {\n    background-color: white;\n    border-radius: 8px;\n    overflow: hidden;\n    box-shadow: var(--shadow);\n    transition: var(--transition);\n  }\n  \n  .story-card:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\n  }\n  \n  .story-image {\n    width: 100%;\n    height: 200px;\n    object-fit: cover;\n  }\n  \n  .story-content {\n    padding: 1.5rem;\n  }\n  \n  .story-author {\n    display: flex;\n    align-items: center;\n    margin-bottom: 0.5rem;\n  }\n  \n  .author-icon {\n    color: var(--primary-color);\n    margin-right: 0.5rem;\n  }\n  \n  .story-title {\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n    color: var(--dark-color);\n  }\n  \n  .story-description {\n    color: var(--text-color);\n    margin-bottom: 1rem;\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n  \n  .story-meta {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #777;\n    font-size: 0.875rem;\n  }\n  \n  .story-detail-button {\n    background-color: var(--secondary-color);\n    color: white;\n    border: none;\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: var(--transition);\n  }\n  \n  .story-detail-button:hover {\n    background-color: var(--primary-color);\n  }\n  \n  \n  .story-detail-content {\n    width: 80%;\n    max-width: 800px;\n  }\n  \n  .story-detail {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n  \n  .story-detail-image {\n    width: 100%;\n    max-height: 400px;\n    object-fit: cover;\n    border-radius: 8px;\n  }\n  \n  .story-detail-info {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n  }\n  \n  .story-map {\n    height: 300px;\n    width: 100%;\n    border-radius: 8px;\n    margin-top: 1rem;\n  }\n  \n  \n  .form-container {\n    background-color: white;\n    padding: 2rem;\n    border-radius: 8px;\n    box-shadow: var(--shadow);\n    max-width: 600px;\n    margin: 0 auto;\n  }\n  \n  .form-title {\n    text-align: center;\n    margin-bottom: 1.5rem;\n    color: var(--dark-color);\n  }\n  \n  .form-group {\n    margin-bottom: 1.5rem;\n  }\n  \n  .form-group label {\n    display: block;\n    margin-bottom: 0.5rem;\n    font-weight: 500;\n  }\n  \n  .form-group input,\n  .form-group textarea {\n    width: 100%;\n    padding: 0.75rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    transition: var(--transition);\n  }\n  \n  .form-group input:focus,\n  .form-group textarea:focus {\n    border-color: var(--primary-color);\n    outline: none;\n  }\n  \n  .camera-container {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    margin-bottom: 1.5rem;\n  }\n  \n  .camera-preview {\n    width: 100%;\n    height: 300px;\n    background-color: #f0f0f0;\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  \n  .camera-preview video,\n  .camera-preview img {\n    max-width: 100%;\n    max-height: 100%;\n  }\n  \n  .camera-buttons {\n    display: flex;\n    gap: 1rem;\n  }\n  \n  .add-map {\n    height: 300px;\n    margin-bottom: 1.5rem;\n    border-radius: 4px;\n    overflow: hidden;\n  }\n  \n  .btn {\n    padding: 0.75rem 1.5rem;\n    border: none;\n    border-radius: 4px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: var(--transition);\n  }\n  \n  .btn-primary {\n    background-color: var(--primary-color);\n    color: white;\n  }\n  \n  .btn-secondary {\n    background-color: var(--secondary-color);\n    color: white;\n  }\n  \n  .btn-danger {\n    background-color: var(--error-color);\n    color: white;\n  }\n  \n  .btn:hover {\n    filter: brightness(90%);\n  }\n  \n  \n  .modal {\n    display: none;\n    position: fixed;\n    z-index: 100;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    overflow: auto;\n  }\n  \n  .modal-content {\n    background-color: white;\n    margin: 10% auto;\n    padding: 2rem;\n    border-radius: 8px;\n    width: 80%;\n    max-width: 500px;\n    box-shadow: var(--shadow);\n    animation: modalIn 0.3s;\n  }\n  \n  @keyframes modalIn {\n    from {\n      opacity: 0;\n      transform: translateY(-50px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  \n  .close {\n    color: #aaa;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n    cursor: pointer;\n    transition: var(--transition);\n  }\n  \n  .close:hover {\n    color: var(--dark-color);\n  }\n  \n  \n  .notification {\n    position: fixed;\n    bottom: 2rem;\n    right: 2rem;\n    background-color: var(--success-color);\n    color: white;\n    padding: 1rem 2rem;\n    border-radius: 4px;\n    box-shadow: var(--shadow);\n    z-index: 100;\n    animation: fadeIn 0.3s;\n  }\n  \n  .notification.error {\n    background-color: var(--error-color);\n  }\n  \n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  \n  .hidden {\n    display: none;\n  }\n  \n \n  footer {\n    text-align: center;\n    padding: 1.5rem;\n    background-color: white;\n    border-top: 1px solid #eee;\n  }\n  \n  \n  .loader {\n    display: flex;\n    justify-content: center;\n    padding: 2rem;\n  }\n  \n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid rgba(0, 0, 0, 0.1);\n    border-radius: 50%;\n    border-left-color: var(--primary-color);\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  \n \n  ::view-transition-old(main-content),\n  ::view-transition-new(main-content) {\n    animation: none;\n    mix-blend-mode: normal;\n  }\n  \n  ::view-transition-old(main-content) {\n    opacity: 0;\n  }\n  \n  ::view-transition-new(main-content) {\n    animation: fadeIn 0.5s ease;\n  }\n  \n \n  .profile-container {\n    background-color: white;\n    padding: 2rem;\n    border-radius: 8px;\n    box-shadow: var(--shadow);\n  }\n  \n  .profile-header {\n    text-align: center;\n    margin-bottom: 2rem;\n  }\n  \n  .profile-avatar {\n    width: 100px;\n    height: 100px;\n    border-radius: 50%;\n    object-fit: cover;\n    margin-bottom: 1rem;\n    background-color: var(--secondary-color);\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 2.5rem;\n    margin: 0 auto;\n  }\n  \n  .profile-name {\n    margin-top: 1rem;\n    color: var(--dark-color);\n  }\n  \n  .profile-email {\n    color: #777;\n  }\n  \n  .notifications-section {\n    margin-top: 2rem;\n    border-top: 1px solid #eee;\n    padding-top: 2rem;\n  }\n  \n  .toggle-container {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    margin-top: 1rem;\n  }\n  \n  .toggle-switch {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n  }\n  \n  .toggle-switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n  \n  .slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    transition: var(--transition);\n    border-radius: 34px;\n  }\n  \n  .slider:before {\n    position: absolute;\n    content: \"\";\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    transition: var(--transition);\n    border-radius: 50%;\n  }\n  \n  input:checked + .slider {\n    background-color: var(--primary-color);\n  }\n  \n  input:checked + .slider:before {\n    transform: translateX(26px);\n  }\n  \n\n  @media (max-width: 768px) {\n    nav {\n      flex-direction: column;\n      padding: 1rem;\n    }\n    \n    .nav-links {\n      margin-top: 1rem;\n      flex-wrap: wrap;\n      justify-content: center;\n    }\n    \n    .stories-container {\n      grid-template-columns: 1fr;\n    }\n    \n    .modal-content {\n      width: 95%;\n      margin: 5% auto;\n    }\n    \n    .story-detail-content {\n      width: 95%;\n    }\n  }",""]);const c=i},540:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var t={};n.exports=function(n,e){var r=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var a=e.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return n[r](a,a.exports,e),a.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.nc=void 0;var r=e(72),o=e.n(r),a=e(825),i=e.n(a),c=e(659),s=e.n(c),l=e(56),d=e.n(l),u=e(540),p=e.n(u),m=e(113),f=e.n(m),h=e(365),v={};function g(n){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},g(n)}function y(n,t,e){return(t=function(n){var t=function(n){if("object"!=g(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=g(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==g(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function b(){b=function(){return t};var n,t={},e=Object.prototype,r=e.hasOwnProperty,o=Object.defineProperty||function(n,t,e){n[t]=e.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{l({},"")}catch(n){l=function(n,t,e){return n[t]=e}}function d(n,t,e,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new C(r||[]);return o(i,"_invoke",{value:B(n,e,c)}),i}function u(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=d;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",v={};function y(){}function w(){}function x(){}var k={};l(k,i,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==e&&r.call(L,i)&&(k=L);var S=x.prototype=y.prototype=Object.create(k);function I(n){["next","throw","return"].forEach((function(t){l(n,t,(function(n){return this._invoke(t,n)}))}))}function T(n,t){function e(o,a,i,c){var s=u(n[o],n,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==g(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(n){e("next",n,i,c)}),(function(n){e("throw",n,i,c)})):t.resolve(d).then((function(n){l.value=n,i(l)}),(function(n){return e("throw",n,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(n,r){function o(){return new t((function(t,o){e(n,r,t,o)}))}return a=a?a.then(o,o):o()}})}function B(t,e,r){var o=p;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:n,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=j(c,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=u(t,e,r);if("normal"===l.type){if(o=r.done?h:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function j(t,e){var r=e.method,o=t.iterator[r];if(o===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=n,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=u(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,v;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function A(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function P(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function C(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(A,this),this.reset(!0)}function N(t){if(t||""===t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(r.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}throw new TypeError(g(t)+" is not iterable")}return w.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,x):(n.__proto__=x,l(n,s,"GeneratorFunction")),n.prototype=Object.create(S),n},t.awrap=function(n){return{__await:n}},I(T.prototype),l(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new T(d(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},I(S),l(S,s,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),e=[];for(var r in t)e.push(r);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(r,o){return c.type="throw",c.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===n||"continue"===n)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=n,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),v},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),P(e),v}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var r=e.completion;if("throw"===r.type){var o=r.arg;P(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}},t}function w(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function x(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){w(a,r,o,i,c,"next",n)}function c(n){w(a,r,o,i,c,"throw",n)}i(void 0)}))}}v.styleTagTransform=f(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p(),o()(h.A,v),h.A&&h.A.locals&&h.A.locals;var k,E,S,I="https://story-api.dicoding.dev/v1",T=[-6.2088,106.8456],B=localStorage.getItem("token"),j=localStorage.getItem("userId"),A=localStorage.getItem("name"),P=null,C=function(n,t){return x(b().mark((function e(){var r,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(I,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:t})});case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(o=e.sent).error){e.next=9;break}throw new Error(o.message);case 9:return localStorage.setItem("token",o.loginResult.token),localStorage.setItem("userId",o.loginResult.userId),localStorage.setItem("name",o.loginResult.name),B=o.loginResult.token,j=o.loginResult.userId,A=o.loginResult.name,e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()},N=function(n,t,e){return x(b().mark((function r(){var o,a;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("".concat(I,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:t,password:e})});case 3:return o=r.sent,r.next=6,o.json();case 6:if(!(a=r.sent).error){r.next=9;break}throw new Error(a.message);case 9:return r.abrupt("return",a);case 12:throw r.prev=12,r.t0=r.catch(0),r.t0;case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},M=function(){var n=arguments;return x(b().mark((function t(){var e,r,o,a,i,c,s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,r=n.length>1&&void 0!==n[1]?n[1]:10,o=n.length>2&&void 0!==n[2]?n[2]:0,t.prev=3,a="".concat(I,"/stories?page=").concat(e,"&size=").concat(r,"&location=").concat(o),i={},B&&(i.Authorization="Bearer ".concat(B)),t.next=9,fetch(a,{headers:i});case 9:return c=t.sent,t.next=12,c.json();case 12:if(!(s=t.sent).error){t.next=15;break}throw new Error(s.message);case 15:return t.abrupt("return",s.listStory);case 18:throw t.prev=18,t.t0=t.catch(3),t.t0;case 21:case"end":return t.stop()}}),t,null,[[3,18]])})))()},O=function(n){return x(b().mark((function t(){var e,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(I,"/stories/").concat(n),{headers:{Authorization:"Bearer ".concat(B)}});case 3:return e=t.sent,t.next=6,e.json();case 6:if(!(r=t.sent).error){t.next=9;break}throw new Error(r.message);case 9:return t.abrupt("return",r.story);case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},F=function(n,t,e,r){return x(b().mark((function o(){var a,i,c,s,l;return b().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,(a=new FormData).append("description",n),a.append("photo",t),e&&r&&(a.append("lat",e),a.append("lon",r)),i="".concat(I,"/stories"),c={},B?c.Authorization="Bearer ".concat(B):i="".concat(I,"/stories/guest"),o.next=10,fetch(i,{method:"POST",headers:c,body:a});case 10:return s=o.sent,o.next=13,s.json();case 13:if(!(l=o.sent).error){o.next=16;break}throw new Error(l.message);case 16:return o.abrupt("return",l);case 19:throw o.prev=19,o.t0=o.catch(0),o.t0;case 22:case"end":return o.stop()}}),o,null,[[0,19]])})))()},z=function(n){return x(b().mark((function t(){var e,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(I,"/notifications/subscribe"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(B)},body:JSON.stringify({endpoint:n.endpoint,keys:{p256dh:btoa(String.fromCharCode.apply(null,new Uint8Array(n.getKey("p256dh")))),auth:btoa(String.fromCharCode.apply(null,new Uint8Array(n.getKey("auth"))))}})});case 3:return e=t.sent,t.next=6,e.json();case 6:if(!(r=t.sent).error){t.next=9;break}throw new Error(r.message);case 9:return t.abrupt("return",r);case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},U=function(n){return x(b().mark((function t(){var e,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(I,"/notifications/subscribe"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(B)},body:JSON.stringify({endpoint:n.endpoint})});case 3:return e=t.sent,t.next=6,e.json();case 6:if(!(r=t.sent).error){t.next=9;break}throw new Error(r.message);case 9:return t.abrupt("return",r);case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},H=y(y(y(y({init:function(){this.initRouter(),this.initEventListeners(),this.updateAuthUI()},initRouter:function(){window.addEventListener("hashchange",this.handleRouteChange.bind(this)),this.handleRouteChange()},handleRouteChange:function(){var n=window.location.hash||"#/",t={"#/":this.renderHome.bind(this),"#/add-story":this.renderAddStory.bind(this),"#/profile":this.renderProfile.bind(this)};document.startViewTransition?document.startViewTransition((function(){(t[n]||t["#/"])(),document.querySelectorAll(".nav-item").forEach((function(t){t.getAttribute("href")===n?t.classList.add("active"):t.classList.remove("active")}))})):((t[n]||t["#/"])(),document.querySelectorAll(".nav-item").forEach((function(t){t.getAttribute("href")===n?t.classList.add("active"):t.classList.remove("active")})))},initEventListeners:function(){var n=this;document.getElementById("login-button").addEventListener("click",(function(){document.getElementById("login-modal").style.display="block"})),document.getElementById("register-button").addEventListener("click",(function(){document.getElementById("register-modal").style.display="block"})),document.getElementById("logout-button").addEventListener("click",(function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("name"),B=null,j=null,A=null,n.updateAuthUI(),n.showNotification("Logged out successfully"),window.location.hash="#/"})),document.getElementById("login-form").addEventListener("submit",function(){var t=x(b().mark((function t(e){var r,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r=document.getElementById("login-email").value,o=document.getElementById("login-password").value,t.prev=3,t.next=6,C(r,o);case 6:document.getElementById("login-modal").style.display="none",n.updateAuthUI(),n.showNotification("Logged in successfully"),window.location.hash="#/",t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),n.showNotification(t.t0.message,!0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(n){return t.apply(this,arguments)}}()),document.getElementById("register-form").addEventListener("submit",function(){var t=x(b().mark((function t(e){var r,o,a;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r=document.getElementById("register-name").value,o=document.getElementById("register-email").value,a=document.getElementById("register-password").value,t.prev=4,t.next=7,N(r,o,a);case 7:document.getElementById("register-modal").style.display="none",n.showNotification("Registration successful. Please login."),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),n.showNotification(t.t0.message,!0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(n){return t.apply(this,arguments)}}()),document.querySelectorAll(".close").forEach((function(n){n.addEventListener("click",(function(){document.querySelectorAll(".modal").forEach((function(n){n.style.display="none"})),S&&(S.getTracks().forEach((function(n){return n.stop()})),S=null)}))})),window.addEventListener("click",(function(n){document.querySelectorAll(".modal").forEach((function(t){n.target===t&&(t.style.display="none",S&&(S.getTracks().forEach((function(n){return n.stop()})),S=null))}))}))},updateAuthUI:function(){var n=document.getElementById("login-button"),t=document.getElementById("register-button"),e=document.getElementById("logout-button"),r=document.getElementById("profile-link");B?(n.classList.add("hidden"),t.classList.add("hidden"),e.classList.remove("hidden"),r.classList.remove("hidden")):(n.classList.remove("hidden"),t.classList.remove("hidden"),e.classList.add("hidden"),r.classList.add("hidden"))},renderHome:function(){var n=this;return x(b().mark((function t(){var e,r,o,a;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.getElementById("app"),r=document.querySelector(".some-element"),e.innerHTML='\n      <h2>Recent Stories</h2>\n      <div class="loader">\n        <div class="spinner"></div>\n      </div>\n      <div class="stories-container"></div>\n    ',t.prev=3,t.next=6,M(1,20,1);case 6:o=t.sent,a=document.querySelector(".stories-container"),0===o.length?a.innerHTML="<p>No stories found. Be the first to share a story!</p>":(a.innerHTML=o.map((function(n){return'\n          <article class="story-card">\n            <img src="'.concat(n.photoUrl,'" alt="Photo for story by ').concat(n.name,'" class="story-image">\n            <div class="story-content">\n              <div class="story-author">\n                <i class="fas fa-user author-icon"></i>\n                <span>').concat(n.name,'</span>\n              </div>\n              <h3 class="story-title">Story by ').concat(n.name,'</h3>\n              <p class="story-description">').concat(n.description,'</p>\n              <div class="story-meta">\n                <span><i class="fas fa-calendar"></i> ').concat(new Date(n.createdAt).toLocaleDateString(),'</span>\n                <button class="story-detail-button" data-id="').concat(n.id,'">View Details</button>\n              </div>\n            </div>\n          </article>\n        ')})).join(""),document.querySelectorAll(".story-detail-button").forEach((function(t){t.addEventListener("click",x(b().mark((function e(){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getAttribute("data-id"),n.showStoryDetail(r);case 2:case"end":return e.stop()}}),e)}))))}))),document.querySelector(".loader").remove(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),document.querySelector(".loader").remove(),n.showNotification(t.t0.message,!0);case 16:r?r.remove():console.warn("Element '.some-element' not found! Skipping remove.");case 17:case"end":return t.stop()}}),t,null,[[3,12]])})))()},showStoryDetail:function(n){return x(b().mark((function t(){var e,r,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.getElementById("story-detail-modal"),(r=document.getElementById("story-detail-container")).innerHTML='\n        <div class="loader">\n          <div class="spinner"></div>\n        </div>\n      ',e.style.display="block",t.prev=4,t.next=7,O(n);case 7:o=t.sent,r.innerHTML='\n          <div class="story-detail">\n            <img src="'.concat(o.photoUrl,'" alt="Photo for story by ').concat(o.name,'" class="story-detail-image">\n            <div class="story-detail-info">\n              <div>\n                <h3>').concat(o.name,'\'s Story</h3>\n                <p><i class="fas fa-calendar"></i> ').concat(new Date(o.createdAt).toLocaleDateString(),"</p>\n              </div>\n            </div>\n            <p>").concat(o.description,"</p>\n            ").concat(o.lat&&o.lon?'<div id="detail-map" class="story-map"></div>':"","\n          </div>\n        "),o.lat&&o.lon&&setTimeout((function(){var n=L.map("detail-map").setView([o.lat,o.lon],13),t=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e={Street:t,Satellite:L.tileLayer("https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"],attribution:"&copy; Google Maps"}),Topographic:L.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://opentopomap.org">OpenTopoMap</a> contributors'})};t.addTo(n),L.control.layers(e).addTo(n),L.marker([o.lat,o.lon]).addTo(n).bindPopup("<strong>".concat(o.name,"'s Story</strong><br>").concat(o.description.substring(0,100),"...")).openPopup()}),100),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),r.innerHTML='<p class="error">Error loading story details: '.concat(t.t0.message,"</p>");case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))()},renderAddStory:function(){var n=this;return x(b().mark((function t(){var e,r,o,a,i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.getElementById("app").innerHTML='\n        <div class="form-container">\n          <h2 class="form-title">Share Your Story</h2>\n          <form id="add-story-form">\n            <div class="camera-container">\n              <label>Take a Photo</label>\n              <div class="camera-preview" id="camera-preview">\n                <i class="fas fa-camera fa-3x"></i>\n              </div>\n              <div class="camera-buttons">\n                <button type="button" id="start-camera" class="btn btn-secondary">\n                  <i class="fas fa-camera"></i> Start Camera\n                </button>\n                <button type="button" id="capture-photo" class="btn btn-primary" disabled>\n                  <i class="fas fa-camera-retro"></i> Capture\n                </button>\n                <button type="button" id="retry-photo" class="btn btn-danger" disabled>\n                  <i class="fas fa-redo"></i> Retry\n                </button>\n              </div>\n            </div>\n            \n            <div class="form-group">\n              <label for="story-description">Description</label>\n              <textarea id="story-description" rows="4" required></textarea>\n            </div>\n            \n            <div>\n              <label>Select Location (Click on the map)</label>\n              <div id="add-map" class="add-map"></div>\n              <div class="form-group">\n                <label for="story-location">Selected Location</label>\n                <input type="text" id="story-location" readonly>\n              </div>\n            </div>\n            \n            <button type="submit" class="btn btn-primary">\n              <i class="fas fa-paper-plane"></i> Share Story\n            </button>\n          </form>\n        </div>\n      ',setTimeout((function(){k=L.map("add-map").setView(T,13);var n=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),t={Street:n,Satellite:L.tileLayer("https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"],attribution:"&copy; Google Maps"}),Topographic:L.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://opentopomap.org">OpenTopoMap</a> contributors'})};n.addTo(k),L.control.layers(t).addTo(k),k.on("click",(function(n){E&&k.removeLayer(E),E=L.marker(n.latlng).addTo(k),document.getElementById("story-location").value="Lat: ".concat(n.latlng.lat.toFixed(6),", Lng: ").concat(n.latlng.lng.toFixed(6))}))}),100),e=null,r=document.getElementById("start-camera"),o=document.getElementById("capture-photo"),a=document.getElementById("retry-photo"),i=document.getElementById("camera-preview"),r.addEventListener("click",x(b().mark((function t(){var e;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});case 3:S=t.sent,(e=document.createElement("video")).srcObject=S,e.autoplay=!0,e.id="camera-stream",i.innerHTML="",i.appendChild(e),r.disabled=!0,o.disabled=!1,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),n.showNotification("Failed to access camera: "+t.t0.message,!0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))),o.addEventListener("click",(function(){var n=document.getElementById("camera-stream"),t=document.createElement("canvas");t.width=n.videoWidth,t.height=n.videoHeight,t.getContext("2d").drawImage(n,0,0,t.width,t.height);var r=document.createElement("img");r.src=t.toDataURL("image/jpeg"),r.id="captured-image",t.toBlob((function(n){e=n}),"image/jpeg"),i.innerHTML="",i.appendChild(r),o.disabled=!0,a.disabled=!1,S&&S.getTracks().forEach((function(n){return n.stop()}))})),a.addEventListener("click",(function(){e=null,i.innerHTML='<i class="fas fa-camera fa-3x"></i>',r.disabled=!1,o.disabled=!0,a.disabled=!0})),document.getElementById("add-story-form").addEventListener("submit",function(){var t=x(b().mark((function t(c){var s,l,d;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),e){t.next=4;break}return n.showNotification("Please take a photo first",!0),t.abrupt("return");case 4:return s=document.getElementById("story-description").value,l=null,d=null,E&&(l=E.getLatLng().lat,d=E.getLatLng().lng),t.prev=8,t.next=11,F(s,e,l,d);case 11:t.sent,n.showNotification("Story shared successfully!"),document.getElementById("add-story-form").reset(),i.innerHTML='<i class="fas fa-camera fa-3x"></i>',e=null,E&&(k.removeLayer(E),E=null),r.disabled=!1,o.disabled=!0,a.disabled=!0,setTimeout((function(){window.location.hash="#/"}),1500),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(8),n.showNotification(t.t0.message,!0);case 27:case"end":return t.stop()}}),t,null,[[8,24]])})));return function(n){return t.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t)})))()}},"handleRouteChange",(function(){var n=window.location.hash||"#/";({"#/":this.renderHome.bind(this),"#/add-story":this.renderAddStory.bind(this),"#/profile":this.renderProfile.bind(this)}[n]||function(){document.getElementById("app").innerHTML='<h2>Page Not Found</h2><p>Return to <a href="#/">Home</a></p>'})()})),"renderProfile",(function(){var n=this;if(!B)return this.showNotification("Please login to view your profile",!0),void(window.location.hash="#/");var t=document.getElementById("app"),e=A?A.charAt(0).toUpperCase():"U";t.innerHTML='\n        <div class="profile-container">\n          <div class="profile-header">\n            <div class="profile-avatar">'.concat(e,'</div>\n            <h2 class="profile-name">').concat(A||"User",'</h2>\n            <p class="profile-email">User ID: ').concat(j||"Unknown",'</p>\n          </div>\n          \n          <div class="notifications-section">\n            <h3>Push Notifications</h3>\n            <p>Get notified when your stories are published.</p>\n            \n            <div class="toggle-container">\n              <label class="toggle-switch">\n                <input type="checkbox" id="notifications-toggle">\n                <span class="slider"></span>\n              </label>\n              <span>Enable Push Notifications</span>\n            </div>\n          </div>\n        </div>\n      ');var r=document.getElementById("notifications-toggle");"serviceWorker"in navigator&&"PushManager"in window?navigator.serviceWorker.register("service-worker.js").then(function(){var t=x(b().mark((function t(e){var o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pushManager.getSubscription();case 2:(o=t.sent)&&(P=o,r.checked=!0),r.addEventListener("change",x(b().mark((function t(){var o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.checked){t.next=17;break}return t.prev=1,t.next=4,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n.urlBase64ToUint8Array("BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk")});case 4:return o=t.sent,P=o,t.next=8,z(o);case 8:n.showNotification("Push notifications enabled"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),r.checked=!1,n.showNotification("Failed to enable push notifications: "+t.t0.message,!0);case 15:t.next=30;break;case 17:if(t.prev=17,!P){t.next=25;break}return t.next=21,U(P);case 21:return t.next=23,P.unsubscribe();case 23:P=null,n.showNotification("Push notifications disabled");case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(17),n.showNotification("Failed to disable push notifications: "+t.t1.message,!0);case 30:case"end":return t.stop()}}),t,null,[[1,11],[17,27]])}))));case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()).catch((function(n){console.error("Service Worker registration failed:",n),r.disabled=!0,r.parentElement.nextElementSibling.textContent="Push notifications not available"})):(r.disabled=!0,r.parentElement.nextElementSibling.textContent="Push notifications not supported on this browser")})),"showNotification",(function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=document.getElementById("notification"),r=document.getElementById("notification-message");e.classList.remove("hidden","error"),t&&e.classList.add("error"),r.textContent=n,setTimeout((function(){e.classList.add("hidden")}),3e3)})),"urlBase64ToUint8Array",(function(n){for(var t=(n+"=".repeat((4-n.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),e=window.atob(t),r=new Uint8Array(e.length),o=0;o<e.length;++o)r[o]=e.charCodeAt(o);return r}));"serviceWorker"in navigator&&(navigator.serviceWorker.register("/service-worker.js").then((function(n){console.log("Service Worker registered with scope:",n.scope)})).catch((function(n){console.error("Service Worker registration failed:",n)})),window.addEventListener("load",(function(){navigator.serviceWorker.register("service-worker.js").catch((function(n){console.error("Service Worker registration failed:",n)}))}))),document.addEventListener("DOMContentLoaded",(function(){H.init()}))})();